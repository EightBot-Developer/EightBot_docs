<h1>EightBot ステータス</h1>
<h3>オンラインステータス</h3>
<p id="status">取得中...</p>
<h3>アクティビティーステータス</h3>
<p id="activity">取得中...</p>
<h3>サーバー数</h3>
<p id="server">取得中...</p>
<h3>ユーザー数</h3>
<p id="user">取得中...</p>
<h3>ping</h3>
<p id="ping">取得中...</p>
<h3>バージョン</h3>
<p id="version">取得中...</p>
<h3>データ取得日時</h3>
<p id="date">取得中...</p>
<script type="text/javascript">
          setInterval(() => {
    
    fetch("https://eight-dev.keitosann.repl.co/api/status")
			.then(res => res.json())
			.then(json => {
        
				document.getElementById("status").innerHTML = json["status"].replace('online', 'オンライン').replace('idle', '離席中').replace('dnd', '取り込み中').replace('offline', 'オフライン');
				document.getElementById("activity").innerHTML = json["activity"];
				document.getElementById("server").innerHTML = json["server"];
        document.getElementById("user").innerHTML = json["user"];
        document.getElementById("ping").innerHTML = json["ping"] + "ms";
        document.getElementById("version").innerHTML = json["version"];
        document.getElementById("date").innerHTML = json["date"];

      }).catch(e => {
				const errorMsg = "データが取得できません。";
				document.getElementById("activity").innerHTML = errorMsg;
				document.getElementById("server").innerHTML = errorMsg;
        document.getElementById("user").innerHTML = errorMsg;
        document.getElementById("ping").innerHTML = errorMsg;
        document.getElementById("version").innerHTML = errorMsg;
        document.getElementById("date").innerHTML = errorMsg;
			});
              }, 1000) 
 
</script>
